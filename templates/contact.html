{% extends 'layout.html' %}

{% block title %}Echo Noir - Contact Us{% endblock %}

{% block content %}
<!-- Contact Hero Section -->
<section class="page-hero contact-hero">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h1>Contact Us</h1>
                <p class="lead">We'd love to hear from you. Get in touch with our team.</p>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form Section -->
<section class="contact-form-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="contact-card">
                    <form id="contactForm" class="contact-form">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" id="name" name="name" placeholder="Your Name" required>
                                    <label for="name">Your Name</label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating mb-3">
                                    <input type="email" class="form-control" id="email" name="email" placeholder="name@example.com" required>
                                    <label for="email">Email Address</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-floating mb-3">
                                    <select class="form-select" id="inquiry" name="inquiry" required>
                                        <option selected value="general">General Inquiry</option>
                                        <option value="sales">Sales Question</option>
                                        <option value="support">Technical Support</option>
                                        <option value="partnership">Partnership Opportunity</option>
                                    </select>
                                    <label for="inquiry">Type of Inquiry</label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-floating mb-3">
                                    <textarea class="form-control" id="message" name="message" placeholder="Your Message" style="height: 150px" required></textarea>
                                    <label for="message">Your Message</label>
                                </div>
                            </div>
                        </div>

                        <!-- Hidden fields for FormSubmit -->
                        <input type="hidden" name="_formsubmit_id" value="">
                        <input type="hidden" name="_replyto" value="info@echonoir.site">

                        <div class="row">
                            <div class="col-md-12">
                                <button type="submit" class="btn btn-primary contact-btn custom-submit-btn">Send Message</button>
                            </div>
                        </div>

                        <!-- Success Message -->
                        <div id="successMessage" class="alert alert-success mt-3 d-none">
                            âœ… Message sent! We'll be in touch shortly.
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Info Section -->
<section class="contact-info-section">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="contact-info-card">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3>Email Us</h3>
                    <p><a href="mailto:info@echonoir.site">info@echonoir.site</a></p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="contact-info-card">
                    <div class="contact-icon">
                        <i class="fas fa-phone-alt"></i>
                    </div>
                    <h3>Call Us</h3>
                    <p><a href="tel:+14244441620">1-424-444-1620</a></p>
                </div>
            </div>
            
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>Ready to Transform Your Business?</h2>
            <a href="{{ url_for('contact') }}" class="btn btn-primary cta-btn">Start Your Free Trial</a>
        </div>
    </div>
</section>

<!-- Custom Form Submission Script -->
<script>
document.getElementById("contactForm").addEventListener("submit", async function (e) {
  e.preventDefault();

  const form = e.target;
  const data = new FormData(form);
 const endpoint = "https://formsubmit.co/ajax/robert.briana@outlook.com"

  data.append("_formsubmit_id", "");
  data.append("_replyto", "info@echonoir.site");

  try {
    const res = await fetch(endpoint, {
      method: "POST",
      body: data
    });

    if (res.ok) {
      form.reset();
      form.classList.remove('was-validated');
      const msg = document.getElementById("successMessage");
msg.classList.remove("d-none");
setTimeout(() => {
  msg.classList.add("d-none");
}, 2000);
    } else {
      alert("Something went wrong. Please try again.");
    }
  } catch (err) {
    console.error("Submission error:", err);
    alert("There was a problem sending your message.");
  }
});
</script>

<!-- Button Hover Style -->
<style>
.custom-submit-btn {
    background-color: #FF4E2E;
    border: none;
    transition: background-color 0.3s ease;
}

.custom-submit-btn:hover {
    background-color: #E73D20;
}
</style>
{% endblock %}